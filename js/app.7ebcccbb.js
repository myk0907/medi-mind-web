(function(){"use strict";var t={8423:function(t,e,n){var a=n(5130),o=n(6768),r=n(6450),i=n(8477);function c(t,e,n,a,c,l){const s=(0,o.g2)("ChatMain");return(0,o.uX)(),(0,o.Wv)(r.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(i.Y,null,{default:(0,o.k6)((()=>[(0,o.bF)(s)])),_:1})])),_:1})}n(4114);var l=n(4232),s=n(144),u=n(4373),d=n(3524),f=n(5991),h=n(5381),p=n(9669),v=n(2585),b=n(6106),m=n(859);const g=t=>((0,o.Qi)("data-v-1c0f224f"),t=t(),(0,o.jt)(),t),y={style:{display:"flex","justify-content":"flex-end"}},k=["onClick"],w={class:"chat-title"},L=["onClick"],_=g((()=>(0,o.Lk)("span",{class:"header-title"},"Rest In MInd",-1))),C={key:0,class:"chat-empty-container flex-grow-1 mb-4"},x=g((()=>(0,o.Lk)("div",{style:{"text-align":"center"}},[(0,o.Lk)("img",{src:"./images/speech-bubble.png",style:{width:"70px"}}),(0,o.Lk)("br"),(0,o.Lk)("br"),(0,o.eW)(" 새로운 채팅 시작하기 ")],-1))),j=[x],O={key:0,class:"pa-4 chat-bubble chat-bot",style:{width:"70px"}},F={xs12:""};var E={__name:"ChatMain",setup(t){u.A.defaults.headers.common["Access-Control-Allow-Origin"]="*",u.A.defaults.headers.get["Content-Type"]="application/json;charset=utf-8";const e=(0,s.KR)(null),n=(0,s.KR)(!0),c=(0,s.KR)(!1),g=(0,s.KR)(0),x=(0,s.Kh)({chatLists:[],chatMessageList:[[]],links:[["mdi-inbox-arrow-down","Inbox"],["mdi-send","Send"],["mdi-delete","Trash"],["mdi-alert-octagon","Spam"]]}),E=(0,s.Kh)({chat:"",thread_id:""});function M(){var t=navigator.userAgent,e=/(iPhone|iPad|Android|BlackBerry|Windows Phone)/i.test(t);return e}const A=()=>{const t=e.value;t&&(t.scrollTop=t.scrollHeight)};(0,o.sV)((()=>{A(),M()?n.value=!1:n.value=!0})),(0,o.wB)(x.chatMessageList,(()=>{(0,o.dY)((()=>{A()}))}));const P=t=>{g.value=t},T=()=>{x.chatLists.push({name:"새로운 채팅 "+(x.chatLists.length+1),idx:x.chatLists.length,thread_id:""}),x.chatMessageList.push([]),g.value=x.chatLists.length-1},I=t=>{x.chatLists.splice(t,1),x.chatMessageList.splice(t,1)},K=()=>{""!=E.chat&&(0==x.chatLists.length&&T(),E.thread_id=x.chatLists[g.value].thread_id,x.chatMessageList[g.value].push({chatIdx:x.chatMessageList+1,talker:"user",chat:E.chat}),c.value=!0,X(),R(),A())},X=async()=>{let t="",e="";try{const n=await u.A.post("http://150.230.255.221:3031/sendChat",E);t=n.data[0],e=n.data[1]}catch(n){console.error("Error:",n),t="서버와의 연결이 끊겼습니다. 잠시후 다시 시도해주세요."}x.chatLists[g.value].thread_id=e,x.chatMessageList[g.value].push({chatIdx:x.chatMessageList+1,talker:"chatbot",chat:t}),c.value=!1},R=()=>{E.chat=""};return(t,s)=>((0,o.uX)(),(0,o.Wv)(r.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(v.e,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t),style:{background:"#F9F9F9"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",y,[(0,o.Lk)("button",{onClick:s[0]||(s[0]=t=>T())},[(0,o.bF)(p.w,{icon:"mdi-chat-plus",class:"chat-plus"})])]),(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.chatLists,((t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"ma-2"},[(0,o.Lk)("div",{class:(0,l.C4)(["chat-list-container",e==g.value?"active-tab":""]),onClick:t=>P(e)},[(0,o.bF)(p.w,{icon:"mdi-chat-processing",class:"ma-3"}),(0,o.Lk)("span",w,(0,l.v_)(t.name),1),(0,o.Lk)("button",{onClick:t=>I(e),class:"remove-button mr-3",style:{"margin-left":"auto"}},[(0,o.bF)(p.w,{icon:"mdi-chat-minus",class:"chat-minus"})],8,L)],10,k)])))),128))])])),_:1},8,["modelValue"]),(0,o.bF)(d.z,{flat:"",style:{background:"#517970"}},{default:(0,o.k6)((()=>[(0,o.bF)(f.Z,{onClick:s[2]||(s[2]=t=>n.value=!n.value),style:{color:"white"}}),_])),_:1}),(0,o.bF)(i.Y,{class:"d-flex flex-column",style:{height:"100vh",width:"100vw"}},{default:(0,o.k6)((()=>[(0,o.bF)(h.I,{class:"py-8 px-6 d-flex flex-column flex-grow-1",style:{width:"100vmin"},fluid:""},{default:(0,o.k6)((()=>[0==x.chatLists.length?((0,o.uX)(),(0,o.CE)("div",C,j)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"chat-container flex-grow-1 overflow-auto mb-4",ref_key:"chatContainer",ref:e},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.chatMessageList[g.value],(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.chat,class:(0,l.C4)(["ma-2","user"===t.talker?"justify-end":"justify-start"]),style:{display:"flex"}},[(0,o.Lk)("div",{class:(0,l.C4)(["pa-4 chat-bubble","user"===t.talker?"chat-user":"chat-bot"])},(0,l.v_)(t.chat),3)],2)))),128)),c.value?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.bF)(b.x,{indeterminate:"",color:"#517970"})])):(0,o.Q3)("",!0)],512)),(0,o.Lk)("div",F,[(0,o.bF)(m.W,{modelValue:E.chat,"onUpdate:modelValue":s[3]||(s[3]=t=>E.chat=t),"clear-icon":"mdi-close-circle",outline:"",clearable:"",label:"메세지를 입력하세요.",type:"text","onClick:clear":R,onKeyup:(0,a.jR)(K,["enter"])},{append:(0,o.k6)((()=>[(0,o.bF)(p.w,{class:(0,l.C4)({"active-send":""!==E.chat,"inactive-send":""===E.chat}),disabled:""==E.chat,onClick:K},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-send ")])),_:1},8,["class","disabled"])])),_:1},8,["modelValue"])])])),_:1})])),_:1})])),_:1}))}},M=n(1241);const A=(0,M.A)(E,[["__scopeId","data-v-1c0f224f"]]);var P=A,T={name:"App",components:{ChatMain:P},data:()=>({})};const I=(0,M.A)(T,[["render",c]]);var K=I,X=(n(5524),n(1036)),R=(0,X.$N)();async function S(){const t=await n.e(53).then(n.t.bind(n,8874,23));t.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}S(),(0,a.Ef)(K).use(R).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,r){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],r=t[u][2];for(var c=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(c=!1,r<i&&(i=r));if(c){t.splice(u--,1);var s=o();void 0!==s&&(e=s)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var r=Object.create(null);n.r(r);var i={};t=t||[null,e({}),e([]),e(e)];for(var c=2&o&&a;"object"==typeof c&&!~t.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(t){i[t]=function(){return a[t]}}));return i["default"]=function(){return a},n.d(r,i),r}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/webfontloader.4ef32d80.js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="medi-mind-frontend:";n.l=function(a,o,r,i){if(t[a])t[a].push(o);else{var c,l;if(void 0!==r)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+r){c=d;break}}c||(l=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",e+r),c.src=a),t[a]=[o];var f=function(e,n){c.onerror=c.onload=null,clearTimeout(h);var o=t[a];if(delete t[a],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),l&&document.head.appendChild(c)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/rest-in-mind-web/"}(),function(){var t={524:0};n.f.j=function(e,a){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise((function(n,a){o=t[e]=[n,a]}));a.push(o[2]=r);var i=n.p+n.u(e),c=new Error,l=function(a){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,o[1](c)}};n.l(i,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,r,i=a[0],c=a[1],l=a[2],s=0;if(i.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(l)var u=l(n)}for(e&&e(a);s<i.length;s++)r=i[s],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},a=self["webpackChunkmedi_mind_frontend"]=self["webpackChunkmedi_mind_frontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(8423)}));a=n.O(a)})();
//# sourceMappingURL=app.7ebcccbb.js.map